<div class="user-container">
  <h2 class="user-title">Gestión de Usuarios</h2>

  <!-- Formulario para crear o actualizar usuario -->
  <div class="user-card">
    <form *ngIf="selectedUser; else newUserForm" (ngSubmit)="updateUser()">
      <div class="form-group">
        <label for="name">Nombre</label>
        <input [(ngModel)]="selectedUser.name" name="name" id="name" type="text" class="form-control" placeholder="Nombre" required />
      </div>
      <div class="form-group">
        <label for="email">Correo Electrónico</label>
        <input [(ngModel)]="selectedUser.email" name="email" id="email" type="email" class="form-control" placeholder="Correo Electrónico" required />
      </div>
      <button type="submit" class="btn btn-primary">Actualizar</button>
      <button type="button" class="btn btn-secondary" (click)="selectedUser = null">Cancelar</button>
    </form>

    <ng-template #newUserForm>
      <form (ngSubmit)="createUser()">
        <div class="form-group">
          <label for="newName">Nombre</label>
          <input [(ngModel)]="newUser.name" name="name" id="newName" type="text" class="form-control" placeholder="Nombre" required />
        </div>
        <div class="form-group">
          <label for="newEmail">Correo Electrónico</label>
          <input [(ngModel)]="newUser.email" name="email" id="newEmail" type="email" class="form-control" placeholder="Correo Electrónico" required />
        </div>
        <button type="submit" class="btn btn-success">Crear</button>
      </form>
    </ng-template>
  </div>

  <!-- Lista de usuarios -->
  <ul class="list-group user-list">
    <li *ngFor="let user of users" class="list-group-item d-flex justify-content-between align-items-center">
      <span>Usuario: {{ user.name }} - Correo: {{ user.email }}</span>
      <div>
        <button class="btn btn-info btn-sm mr-2" (click)="selectUser(user)">Editar</button>
        <button class="btn btn-danger btn-sm mr-2" (click)="deleteUser(user.id)">Eliminar</button>
      </div>
    </li>
  </ul>
</div>